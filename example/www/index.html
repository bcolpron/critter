</html>
<head>
<title>Sample App</title>
</head>
<body>

<div>
    <input type="text" id="input">
    <button class="msg-send">Send</button>
</div>

<div>
    <h2>Messages from Server</h2>
    <ul id="messages"></ul>
</div>



</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.5/lodash.core.min.js"></script>
<script src="ServerConnection.js"></script>
<script>
$(function(){
    var ws = new ServerConnection("ws://" + location.host + "/ws/");
    ws.onMessage(function(msg) {
        console.log("message: " + msg);
        $("#messages").append($("<li>" + msg + "</li>"));
    });

    $("button.msg-send").on("click", function(){
        ws.send($("#input").val());
    })
});
</script>
</html>
